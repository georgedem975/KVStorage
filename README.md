# KVStorage

---

Асимптотика

| Метод                     | Средняя асимптотика | Худшая асимптотика |
|---------------------------|---------------------|--------------------|
| set(key, value, ttl)      | O(1)                | O(n)               |
| remove(key)               | O(1)                | O(n)               |
| get(key)                  | O(1)                | O(n)               |
| getManySorted(key, count) | O(n log n)          | O(n log n)         |
| removeOneExpiredEntry()   | O(n)                | O(n)               |

Overhead - ```std::optional<int64_t>``` - 16 байт + от 32 до 48 байт ```std::unordered_map<>``` оверхед узла, усредненно 40 байт + 24 байта ```std::string```, строк две поэтому 24 * 2 => в районе 104 байт оверхед на одну запись.

Дополнительно можно улучшить:
* Предусмотреть многопоточную работу
* добавить логгирование не через ```std::cout```

Про реализацию:
* ```CMake 3.21``` + ```Conan 2.x``` + ```Python 3.x``` для сборочных скриптов
* ```GTest``` подтягивается из ```Conan```
* ```C++ 20```
* ```CI``` запуск тестов через ```ctest``` (вывод работы тестов можно увидеть на шаге ```Run ctest```)
* для сборки используется ```Visual Studio 17 2022``` под архитектуру ```x86_64```, но можно в последствии добавить и другие путем изменения файла ```kvs_build.py```, либо же собрать вручную не через сборочный скрипт